{"id":"bp-commit-reflect-phase1-b1","title":"Implement ReflectionSession class for state management","description":"Build the core ReflectionSession class to manage the state of a commit reflection session. This class should handle session lifecycle, track current question, store answers, and coordinate the sequential prompting flow.","status":"open","priority":1,"type":"task","acceptance_criteria":"- ReflectionSession class exists with proper initialization\n- Session can track current state (current question, answers collected)\n- Session provides methods to advance through questions\n- Session validates state transitions\n- Unit tests cover core state management logic","tags":["phase-1","track-b","cli-core"],"created_at":"2025-11-23T16:00:00Z","updated_at":"2025-11-23T16:00:00Z"}
{"id":"bp-commit-reflect-phase1-b2","title":"Build interactive sequential prompting system","description":"Create the interactive prompting system that presents questions to users sequentially, collects answers, and handles user input. This should integrate with ReflectionSession to track progress through the question flow.","status":"open","priority":1,"type":"task","acceptance_criteria":"- Prompting system displays questions clearly to user\n- System validates user input based on question type\n- System handles sequential flow (one question at a time)\n- Error messages are helpful and guide user corrections\n- Integration with ReflectionSession for state tracking","tags":["phase-1","track-b","cli-core"],"created_at":"2025-11-23T16:00:00Z","updated_at":"2025-11-23T16:00:00Z"}
{"id":"bp-commit-reflect-phase1-b3","title":"Create configuration file loader and validator","description":"Implement configuration file loading and validation system. This should read configuration from files, validate the schema, apply defaults, and provide clear error messages for invalid configurations.","status":"open","priority":1,"type":"task","acceptance_criteria":"- Configuration loader reads from standard file locations\n- Validation checks all required fields and types\n- Default values applied for optional settings\n- Clear error messages for invalid configuration\n- Configuration schema is documented","tags":["phase-1","track-b","cli-core"],"created_at":"2025-11-23T16:00:00Z","updated_at":"2025-11-23T16:00:00Z"}
{"id":"bp-commit-reflect-phase1-b4","title":"Implement command-line argument parsing","description":"Build command-line argument parser for the CLI tool. Should support all planned flags and options, provide help text, and integrate with configuration system.","status":"open","priority":1,"type":"task","acceptance_criteria":"- CLI accepts all planned arguments and flags\n- Help text is clear and comprehensive\n- Arguments override configuration file settings\n- Invalid arguments produce helpful error messages\n- Argument parsing integrates with config loader","tags":["phase-1","track-b","cli-core"],"created_at":"2025-11-23T16:00:00Z","updated_at":"2025-11-23T16:00:00Z"}
{"id":"bp-commit-reflect-phase1-b5","title":"Add basic error handling and user feedback","description":"Implement comprehensive error handling and user feedback mechanisms throughout the CLI. Should catch errors gracefully, provide helpful messages, and guide users toward resolution.","status":"open","priority":1,"type":"task","acceptance_criteria":"- All errors are caught and handled gracefully\n- Error messages are clear and actionable\n- User receives feedback for long-running operations\n- No crashes from expected error conditions\n- Logging system in place for debugging","tags":["phase-1","track-b","cli-core"],"created_at":"2025-11-23T16:00:00Z","updated_at":"2025-11-23T16:00:00Z"}
{"id":"bp-commit-reflect-phase2-b1","title":"Build git utility functions","description":"Create utility functions for interacting with git repositories. These functions should provide common git operations needed by the commit reflection system, such as getting current branch, checking if repo is dirty, and accessing commit information.","status":"open","priority":1,"type":"task","acceptance_criteria":"- Utility functions for common git operations exist\n- Functions handle git errors gracefully\n- Functions work across different git states (clean, dirty, detached HEAD)\n- Unit tests verify git utility behavior\n- Functions are well-documented with examples","tags":["phase-2","track-b","git-integration"],"created_at":"2025-11-23T16:00:00Z","updated_at":"2025-11-23T16:00:00Z"}
{"id":"bp-commit-reflect-phase2-b2","title":"Add commit message amendment storage","description":"Implement storage mechanism for amended commit messages. This should allow the system to store enriched commit messages that include reflection data, and integrate with git commit amendment workflow.","status":"open","priority":1,"type":"task","acceptance_criteria":"- Commit message amendment storage backend implemented\n- Amended messages include reflection data in structured format\n- Storage handles concurrent access safely\n- Integration with git commit --amend workflow\n- Amended messages are properly formatted for git","tags":["phase-2","track-b","git-integration"],"created_at":"2025-11-23T16:00:00Z","updated_at":"2025-11-23T16:00:00Z"}
{"id":"bp-commit-reflect-phase2-b3","title":"Extract commit metadata (files, stats, message)","description":"Implement functionality to extract comprehensive metadata from git commits including changed files, diff statistics, commit message, author, timestamp, and other relevant information. This metadata will be used to provide context for reflection questions.","status":"open","priority":1,"type":"task","acceptance_criteria":"- Function extracts all relevant commit metadata\n- Metadata includes files changed, lines added/removed, commit message\n- Metadata extraction works for various commit types (normal, merge, etc)\n- Metadata is structured in a standard format\n- Performance is acceptable for large commits","tags":["phase-2","track-b","git-integration"],"created_at":"2025-11-23T16:00:00Z","updated_at":"2025-11-23T16:00:00Z"}
{"id":"bp-commit-reflect-phase2-b4","title":"Implement branch detection","description":"Add functionality to detect the current git branch and branch-related information. This should handle various branch states including detached HEAD, and provide branch information for reflection context.","status":"open","priority":1,"type":"task","acceptance_criteria":"- Function correctly identifies current branch\n- Handles edge cases (detached HEAD, no commits, etc)\n- Provides upstream tracking information if available\n- Works with different git configurations\n- Unit tests cover various branch scenarios","tags":["phase-2","track-b","git-integration"],"created_at":"2025-11-23T16:00:00Z","updated_at":"2025-11-23T16:00:00Z"}
{"id":"bp-commit-reflect-phase2-b5","title":"Add support for batch commit processing","description":"Implement functionality to process multiple commits in batch mode. This should allow users to run reflections for a range of commits or all commits in a branch, handling them efficiently without requiring individual invocation for each commit.","status":"open","priority":1,"type":"task","acceptance_criteria":"- Batch processing accepts commit ranges or branch references\n- System efficiently processes multiple commits\n- Progress feedback provided for long-running batch operations\n- Errors in one commit don't block entire batch\n- Batch results are properly aggregated and stored","tags":["phase-2","track-b","git-integration"],"created_at":"2025-11-23T16:00:00Z","updated_at":"2025-11-23T16:00:00Z"}
{"id":"bp-commit-reflect-phase3-b1","title":"Implement start_commit_reflection MCP tool","description":"Create the start_commit_reflection MCP tool that initializes a new commit reflection session. This tool should start a CLI process, extract commit context, and return the first reflection question to the AI agent.","status":"open","priority":1,"type":"task","acceptance_criteria":"- MCP tool accepts commit identifier parameter\n- Tool spawns CLI process for reflection session\n- Tool extracts and provides commit context\n- Tool returns first question with proper formatting\n- Tool handles errors (invalid commit, process spawn failures)","tags":["phase-3","track-b","mcp-tools"],"created_at":"2025-11-23T16:00:00Z","updated_at":"2025-11-23T16:00:00Z"}
{"id":"bp-commit-reflect-phase3-b2","title":"Implement answer_reflection_question MCP tool","description":"Create the answer_reflection_question MCP tool that processes user answers and advances the reflection session. This should validate answers, update session state, and return the next question or completion signal.","status":"open","priority":1,"type":"task","acceptance_criteria":"- MCP tool accepts session ID and answer parameters\n- Tool validates answer format and content\n- Tool advances session to next question\n- Tool returns next question or completion signal\n- Tool handles edge cases (invalid session, invalid answer)","tags":["phase-3","track-b","mcp-tools"],"created_at":"2025-11-23T16:00:00Z","updated_at":"2025-11-23T16:00:00Z"}
{"id":"bp-commit-reflect-phase3-b3","title":"Implement complete_reflection MCP tool","description":"Create the complete_reflection MCP tool that finalizes a reflection session. This tool should trigger atomic writes to all configured storage backends, clean up session state, and return confirmation of successful storage.","status":"open","priority":1,"type":"task","acceptance_criteria":"- MCP tool accepts session ID parameter\n- Tool triggers storage writes to all backends\n- Tool ensures atomic writes complete successfully\n- Tool cleans up session resources\n- Tool returns confirmation with storage locations","tags":["phase-3","track-b","mcp-tools"],"created_at":"2025-11-23T16:00:00Z","updated_at":"2025-11-23T16:00:00Z"}
{"id":"bp-commit-reflect-phase3-b4","title":"Implement cancel_reflection MCP tool","description":"Create the cancel_reflection MCP tool that allows graceful cancellation of an in-progress reflection session. This should clean up resources, terminate the CLI process if needed, and handle partial session data appropriately.","status":"open","priority":1,"type":"task","acceptance_criteria":"- MCP tool accepts session ID parameter\n- Tool safely terminates CLI process\n- Tool cleans up all session resources\n- Tool optionally preserves partial session data\n- Tool returns cancellation confirmation","tags":["phase-3","track-b","mcp-tools"],"created_at":"2025-11-23T16:00:00Z","updated_at":"2025-11-23T16:00:00Z"}
{"id":"bp-commit-reflect-phase3-b5","title":"Implement get_recent_reflections MCP tool","description":"Create the get_recent_reflections MCP tool that queries historical reflection data and formats it for AI agent context. This tool should retrieve recent reflections, apply filters if requested, and format results in a way that's useful for AI analysis and learning.","status":"open","priority":1,"type":"task","acceptance_criteria":"- MCP tool supports query parameters (limit, filters, date range)\n- Tool retrieves reflections from storage backends\n- Tool formats results for AI agent consumption\n- Tool handles empty results gracefully\n- Tool performs efficiently even with large datasets","tags":["phase-3","track-b","mcp-tools"],"created_at":"2025-11-23T16:00:00Z","updated_at":"2025-11-23T16:00:00Z"}
{"id":"bp-commit-reflect-phase4-b1","title":"Implement afterShellExecution hook for Cursor","description":"Create the afterShellExecution hook implementation for Cursor IDE integration. This hook should execute after shell commands run in Cursor, detect git commit operations, and trigger the reflection flow when appropriate.","status":"open","priority":1,"type":"task","acceptance_criteria":"- afterShellExecution hook integrates with Cursor\n- Hook executes reliably after shell commands\n- Hook has access to command output and exit code\n- Hook can trigger MCP tools for reflection\n- Hook handles errors without breaking Cursor workflow","tags":["phase-4","track-b","cursor-hook"],"created_at":"2025-11-23T16:00:00Z","updated_at":"2025-11-23T16:00:00Z"}
{"id":"bp-commit-reflect-phase4-b2","title":"Add shell command monitoring for git commits","description":"Implement shell command monitoring logic that watches for git commit commands. This should parse shell command output, detect successful commits, extract commit hashes, and determine when to trigger reflection flow.","status":"open","priority":1,"type":"task","acceptance_criteria":"- System detects git commit commands reliably\n- System distinguishes successful from failed commits\n- System extracts commit hash from command output\n- System handles various git commit syntaxes\n- System avoids false positives from non-commit commands","tags":["phase-4","track-b","cursor-hook"],"created_at":"2025-11-23T16:00:00Z","updated_at":"2025-11-23T16:00:00Z"}
{"id":"bp-commit-reflect-phase4-b3","title":"Create reflection triggering logic for Cursor","description":"Implement the logic that determines when and how to trigger reflection sessions in Cursor. This should respect user preferences, handle timing appropriately, and coordinate between the hook and MCP tools.","status":"open","priority":1,"type":"task","acceptance_criteria":"- Triggering logic respects configuration settings\n- Logic handles user opt-in/opt-out preferences\n- Logic triggers at appropriate times (not mid-workflow)\n- Logic coordinates properly with MCP server\n- Logic handles edge cases (multiple commits, rebases, etc)","tags":["phase-4","track-b","cursor-hook"],"created_at":"2025-11-23T16:00:00Z","updated_at":"2025-11-23T16:00:00Z"}
{"id":"bp-commit-reflect-phase4-b4","title":"Format reflection UI for Cursor chat interface","description":"Implement formatting logic to present reflection questions and collect answers within Cursor's chat interface. This should make the reflection flow feel natural and integrated with the Cursor UX.","status":"open","priority":1,"type":"task","acceptance_criteria":"- Questions display clearly in Cursor chat\n- Answer collection fits Cursor interaction model\n- Formatting handles all question types properly\n- UI provides clear feedback on progress\n- Experience feels natural within Cursor workflow","tags":["phase-4","track-b","cursor-hook"],"created_at":"2025-11-23T16:00:00Z","updated_at":"2025-11-23T16:00:00Z"}
{"id":"bp-commit-reflect-phase4-b5","title":"Add configuration options for Cursor integration","description":"Implement configuration system for Cursor hook, allowing users to customize behavior. This should include options for enabling/disabling the hook, setting trigger conditions, customizing question sets, and controlling storage backends.","status":"open","priority":1,"type":"task","acceptance_criteria":"- Configuration options documented and accessible\n- Users can enable/disable reflection hook\n- Users can customize trigger conditions\n- Users can select question sets\n- Configuration changes take effect without restart","tags":["phase-4","track-b","cursor-hook"],"created_at":"2025-11-23T16:00:00Z","updated_at":"2025-11-23T16:00:00Z"}
{"id":"bp-commit-reflect-phase5-b1","title":"Write comprehensive user guides","description":"Create comprehensive user documentation covering all aspects of using the commit reflection system. This should include getting started guides, usage examples, best practices, and common workflows for different user personas.","status":"open","priority":2,"type":"task","acceptance_criteria":"- User guide covers installation and setup\n- Guide includes usage examples for all features\n- Guide documents best practices and recommendations\n- Guide addresses different user personas (CLI users, IDE users)\n- Guide is well-organized and easy to navigate","tags":["phase-5","track-b","documentation"],"created_at":"2025-11-23T16:00:00Z","updated_at":"2025-11-23T16:00:00Z"}
{"id":"bp-commit-reflect-phase5-b2","title":"Create API documentation","description":"Write comprehensive API documentation for developers who want to integrate with or extend the commit reflection system. This should document all public APIs, MCP tools, configuration schemas, and extension points.","status":"open","priority":2,"type":"task","acceptance_criteria":"- API documentation covers all public interfaces\n- MCP tools are fully documented with examples\n- Configuration schema is documented with all options\n- Extension points and hooks are documented\n- Documentation includes code examples and use cases","tags":["phase-5","track-b","documentation"],"created_at":"2025-11-23T16:00:00Z","updated_at":"2025-11-23T16:00:00Z"}
{"id":"bp-commit-reflect-phase5-b3","title":"Write IDE setup tutorials","description":"Create step-by-step tutorials for setting up the commit reflection system in different IDEs (Claude Code, Cursor). Each tutorial should guide users through installation, configuration, and first use with screenshots and clear instructions.","status":"open","priority":2,"type":"task","acceptance_criteria":"- Tutorial for Claude Code setup is complete\n- Tutorial for Cursor setup is complete\n- Tutorials include screenshots and visual aids\n- Tutorials cover troubleshooting common setup issues\n- Tutorials are tested with fresh installations","tags":["phase-5","track-b","documentation"],"created_at":"2025-11-23T16:00:00Z","updated_at":"2025-11-23T16:00:00Z"}
{"id":"bp-commit-reflect-phase5-b4","title":"Create troubleshooting guides","description":"Write comprehensive troubleshooting documentation covering common issues, error messages, and their solutions. This should help users diagnose and fix problems independently.","status":"open","priority":2,"type":"task","acceptance_criteria":"- Common error messages documented with solutions\n- Troubleshooting guide covers installation issues\n- Guide addresses configuration problems\n- Guide includes debugging tips for developers\n- Guide provides escalation path for unsolved issues","tags":["phase-5","track-b","documentation"],"created_at":"2025-11-23T16:00:00Z","updated_at":"2025-11-23T16:00:00Z"}
{"id":"bp-commit-reflect-phase5-b5","title":"Develop example configurations","description":"Create a collection of example configuration files covering different use cases and scenarios. This should include minimal configs, full-featured configs, team setups, and configurations for specific workflows.","status":"open","priority":2,"type":"task","acceptance_criteria":"- Minimal configuration example exists\n- Full-featured configuration example exists\n- Team configuration example exists\n- Examples for different workflows (solo dev, pair programming, etc)\n- All examples are tested and working","tags":["phase-5","track-b","documentation"],"created_at":"2025-11-23T16:00:00Z","updated_at":"2025-11-23T16:00:00Z"}
